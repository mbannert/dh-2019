---
title: "Hacking for Historians"
subtitle: "Introduction to Exploring Data with R"
author: "Matthias Bannert** (@whatsgoodio) and Ina Serif++"
institute: "ETH Zurich**, Uni Basel++"
date: "2019-09-25"
output:
  xaringan::moon_reader:
    css: ["robot-fonts","more.css"]
    lib_dir: libs
    nature:
      highlightStyle: github
      highlightLines: true
      countIncrementalSlides: false
      ratio: '16:9'
---


```{r setup, include=FALSE}
options(htmltools.dir.version = FALSE)
```


## Exploring Built-In Data 

Show all dataset available from currently loaded packages.
```{r, eval=FALSE}
data()
```

---


## Exploring Built-In Data 

Show all dataset available from currently loaded packages.
```{r, eval=FALSE}
data()
```

Load a specific dataset from the library *historydata*

```{r}
library(historydata)
data("catholic_dioceses")
```

---



## Exploring Built-In Data 

Show all dataset available from currently loaded packages.
```{r, eval=FALSE}
data()
```


Load a specific dataset from the library *historydata*
```{r}
library(historydata)
data("catholic_dioceses")
```


See what's in memory. <br> 
Note that there can be multiple datasets in memory at the same time!

```{r}
data("paulist_missions")
ls()
```

---


## Types of datasets: time series

```{r}
ts2 <- ts(rnorm(20),
          start = c(1995,1),
          frequency = 4)
ts2
```

examples: monthly revenues over time, stocks, aggregated log files

---

## Types of datasets: cross sectional data

```{r}
head(mtcars)
```

- multiple variables
- one period

---

## Types of datasets: panel data

- multiple variables
- longitudinal data 
- e.g. German Socio-Economic Panel (GSOEP)

---

## Nested data structures

```{r}
l <- list()
l$element1 <- 2
l$element2 <- head(mtcars,4)
l
```

examples: meta information, sector classification (hierarchical), GDP components, translations, attributes, properties, [Geo spatial data](https://github.com/mbannert/maps/blob/master/ch_bfs_regions.geojson)

---

## Task 2:  Functions to Explore Dataset

Try out some functions to explore datasets from the 
*historydata*, *janeaustenr* and *fivethirtyeight*  packages or 
R's built-in datasets.

```{r, eval=FALSE}
str()
summary()
length()
nrow()
class()
pairs()
plot()
```

Does each function work for with each dataset? Is the output of, e.g., summary the same for all datasets?


---

## Format vs. Structure

- Formats
  - text formats: .csv, .json, .xml, .tsv, ...
  - binary formats: .RData, .dta
  - propietary formats: .xls(x), .dta
  
- Structure
  - 
  
--- 

## Swiss Army Knifing Formats

.pull-left[
R handles a plethora of structure and format combinations using its packages, e.g., 

- data.table (fread, fwrite)
- jsonlite (fromJSON, toJSON)
- openxlsx
- readxl
- writexl
- readr
- readtext 
- foreign
- ... 
]

.pull-right[

]

---






